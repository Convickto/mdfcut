<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#f5f2ec">
  <title>Simulador de Corte de Chapas MDF</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Simulador de Corte de Chapas MDF</h1>

<div class="neumorphic-card" id="cardAdicaoPecas">
    <h2>Configurações da Chapa e Material</h2>
    <div class="input-group">
        <div>
            <label for="espessuraMadeira">Espessura da Madeira (mm):</label>
            <input id="espessuraMadeira" type="number" min="1" max="100" value="15" class="neumorphic-input" />
        </div>
        <div>
            <label for="chapaLargura">Largura da Chapa (mm):</label>
            <input id="chapaLargura" type="number" min="1" value="2750" class="neumorphic-input" />
        </div>
        <div>
            <label for="chapaAltura">Altura da Chapa (mm):</label>
            <input id="chapaAltura" type="number" min="1" value="1850" class="neumorphic-input" />
        </div>
        <div>
            <label for="chapaValor">Valor da Chapa (R$):</label>
            <input id="chapaValor" type="number" step="0.01" min="0" value="250.00" class="neumorphic-input" />
        </div>
        <div>
            <label for="tipoMaterial">Tipo de Material:</label>
            <select id="tipoMaterial" class="neumorphic-input">
                <option value="MDF">MDF</option>
                <option value="MDP">MDP</option>
                <option value="HDF">HDF</option>
                <option value="OSB">OSB</option>
                <option value="Compensado">Compensado</option>
                <option value="Compensado naval">Compensado naval</option>
                <option value="Duratex">Duratex</option>
                <option value="Formica">Formica</option>
                <option value="Pinho">Pinho</option>
                <option value="Cedro">Cedro</option>
                <option value="Eucalipto">Eucalipto</option>
                <option value="Peroba rosa">Peroba rosa</option>
                <option value="Jatobá">Jatobá</option>
                <option value="Ipê">Ipê</option>
                <option value="Angelim">Angelim</option>
                <option value="Angelim pedra">Angelim pedra</option>
                <option value="Freijó">Freijó</option>
                <option value="Imbuia">Imbuia</option>
                <option value="Marfim">Marfim</option>
                <option value="Louro">Louro</option>
                <option value="Louro preto">Louro preto</option>
                <option value="Louro vermelho">Louro vermelho</option>
                <option value="Louro faia">Louro faia</option>
                <option value="Itaúba">Itaúba</option>
                <option value="Cumaru">Cumaru</option>
                <option value="Maçaranduba">Maçaranduba</option>
                <option value="Tauari">Tauari</option>
                <option value="Sucupira">Sucupira</option>
                <option value="Garapeira">Garapeira</option>
                <option value="Teca">Teca</option>
                <option value="Roxinho">Roxinho</option>
                <option value="Jequitibá">Jequitibá</option>
                <option value="Cabreúva">Cabreúva</option>
                <option value="Guajuvira">Guajuvira</option>
                <option value="Pau-ferro">Pau-ferro</option>
                <option value="Mogno">Mogno</option>
                <option value="Mogno africano">Mogno africano</option>
                <option value="Pinus autoclavado">Pinus autoclavado</option>
                <option value="Placa de USB">Placa de USB</option>
                <option value="Placa cimentícia">Placa cimentícia</option>
                <option value="Chapa de OSB resinada">Chapa de OSB resinada</option>
                <option value="Chapa dura">Chapa dura</option>
                <option value="Laminado de madeira">Laminado de madeira</option>
                <option value="Laminado melamínico">Laminado melamínico</option>
                <option value="Veneer">Veneer</option>
                <option value="HPL (High Pressure Laminate)">HPL (High Pressure Laminate)</option>
                <option value="Aglomerado">Aglomerado</option>
                <option value="Aglomerado revestido">Aglomerado revestido</option>
                <option value="Placas de bambu">Placas de bambu</option>
                <option value="Placas de balsa">Placas de balsa</option>
                <option value="PVC expandido">PVC expandido</option>
                <option value="Poliestireno">Poliestireno</option>
                <option value="Placas de acrílico">Placas de acrílico</option>
                <option value="Madeira de demolição">Madeira de demolição</option>
                <option value="Dormentes">Dormentes</option>
                <option value="Caibro">Caibro</option>
                <option value="Ripa">Ripa</option>
                <option value="Sarrafo">Sarrafo</option>
                <option value="Tábua">Tábua</option>
                <option value="Madeirite">Madeirite</option>
                <option value="Madeirite plastificado">Madeirite plastificado</option>
                <option value="Madeirite resinado">Madeirite resinado</option>
                <option value="OSB plastificado">OSB plastificado</option>
                <option value="Tapume">Tapume</option>
                <option value="Deck de madeira">Deck de madeira</option>
                <option value="Palete">Palete</option>
                <option value="Mouro">Mouro (toras brutas)</option>
            </select>
        </div>
    </div>

    <h2>Adicionar Peças para Corte</h2>
    <p id="mensagemStatus" style="display:none;"></p>
    <div class="input-group">
        <div>
            <label for="tipoPeca">Tipo de Peça:</label>
            <select id="tipoPeca" class="neumorphic-input">
                <option value="retangular">Retangular</option>
                <option value="semicirculo">Semicírculo (180°)</option>
                <option value="circulo">Círculo (360°)</option>
            </select>
        </div>
    </div>

    <div id="retangularFields" class="input-group field-group active">
        <div><input id="largura" type="number" placeholder="Largura da peça (mm)" class="neumorphic-input" /></div>
        <div><input id="altura" type="number" placeholder="Altura da peça (mm)" class="neumorphic-input" /></div>
        <div><input id="quantidade" type="number" placeholder="Quantidade" class="neumorphic-input" /></div>
    </div>

    <div id="semicirculoFields" class="input-group field-group">
        <div><input id="curva-L" type="number" placeholder="Lado reto L (mm)" class="neumorphic-input" /></div>
        <div>
            <label for="curva-orient">Orientação da Curva:</label>
            <select id="curva-orient" class="neumorphic-input">
                <option value="top">Curva em cima</option>
                <option value="bottom">Curva embaixo</option>
            </select>
        </div>
        <div><input id="curva-quantidade" type="number" placeholder="Quantidade" class="neumorphic-input" /></div>
        
    </div>

    <div id="circuloFields" class="input-group field-group">
        <div><input id="circulo-diametro" type="number" placeholder="Diâmetro (mm)" class="neumorphic-input" /></div>
        <div><input id="circulo-quantidade" type="number" placeholder="Quantidade" class="neumorphic-input" /></div>
    </div>

    <h2>MARGEM</h2>
    <p>Padrão 5mm de margem para o corte.</p>

    <div class="button-group">
        <button id="addPecaBtn" class="neumorphic-button button-primary">Adicionar Peça</button>
    </div>
    <div class="button-group">
        <button id="calcularCortesBtn" class="neumorphic-button button-primary">Calcular Cortes</button>
    </div>

    <h3>Peças na Lista:</h3>
    <ul id="listaPecas" class="neumorphic-list"></ul>
</div>

<div class="progress-container" id="progressCont">
    <div class="progress-bar" id="progressBar"></div>
</div>

<div class="neumorphic-card" id="outputCard">
    <h2>Visualização das Chapas</h2>

    <div class="button-group controle-chapas">
        <button id="anteriorChapaBtn" class="neumorphic-button">Anterior</button>
        <button id="proximaChapaBtn" class="neumorphic-button">Próxima</button>
        <canvas id="canvas"></canvas>
        <h3>EXPORTAR</h3>
        <p>Só é permitido baixar um arquivo por projeto!</p>
        <button id="exportarImagemBtn" class="neumorphic-button">Exportar PNG</button>
        <button id="exportarDxfBtn" class="neumorphic-button">Exportar DXF</button>
    </div>
    
    <div class="neumorphic-card summary-card">
        <h2>Resumo do Corte</h2>
        <p>Tipo de Material: <strong id="resumoTipoMaterial">MDF</strong></p>
        <p>Espessura da Madeira: <strong id="resumoEspessura">0mm</strong></p>
        <p>Dimensões da Chapa: <strong id="resumoDimensaoChapa">0x0mm</strong></p>
        <p>Valor Unitário da Chapa: <strong id="resumoValorUnitarioChapa">R$ 0,00</strong></p>
        <p>Total de Chapas Utilizadas: <strong id="resumoChapasUtilizadas">0</strong></p>
        <p>Aproveitamento Global: <strong id="resumoAreaUtilizada">0 mm² (0 %)</strong></p>
        <p>Custo Total Estimado: <strong id="resumoCustoTotal">R$ 0,00</strong></p>
    </div>

    <div id="resultado" class="chapa-resumo"></div>
</div>
<script src="script.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('sw.js')
        .then(registration => {
          console.log('ServiceWorker registrado com sucesso: ', registration.scope);
        })
        .catch(err => {
          console.log('Falha no registro do ServiceWorker: ', err);
        });
    });
  }
</script>
  
</body>
</html>
